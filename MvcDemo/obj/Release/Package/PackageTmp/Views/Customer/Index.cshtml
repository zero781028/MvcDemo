@model IEnumerable<Domain.Customer>
@{
    ViewBag.Title = "Customer";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div ng-app="MainApp" >
    <div class="row">
        <div class="col-lg-12">
            <h1><i class="fa fa-table"></i>客戶基本資料</h1>
            <a href="/Customer/Add" class="btn btn-default"><i class="glyphicon glyphicon-plus"></i>新增</a>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-lg-12">
            <div ng-view style="margin-top: 10px;"></div>
        </div>
    </div>
</div>
@*
@section scripts{
    <script>
        angular.module('CustApp', ['ui.bootstrap'])
            .controller('CustCtrl', function ($scope, $http) {
                $scope.IsLoad = true;
                $scope.totalRecords = 0;
                $scope.pageSize = 5;
                $scope.currentPage = 1;

                $scope.pageChanged = function () {
                    $scope.IsLoad = true;
                    GetData();
                }

                var GetData = function () {
                    $http.get('api/Customers', { params: {CurrentPage:$scope.currentPage,PageSize:$scope.pageSize}})
                    .success(function (response) {
                        $scope.Customers = response.Data;
                        $scope.totalRecords = response.Total;
                        $scope.IsLoad = false;
                    })
                    .error(function (data) {
                        $scope.error = '取得資料錯誤';
                        $scope.IsLoad = false;
                    });                    
                };
                GetData();
            });
    </script>
}
*@